# 🤖 AIDriveBot
> 비대면 서비스 환경에서 실내 자율주행 로봇이 실제로 활용될 수 있는 가능성을 제시하는 캡스톤디자인 팀 프로젝트입니다.
## 프로젝트 개요
현대 사회는 코로나19 팬데믹 이후 비대면 접촉을 선호하는 사회적 분위기가 급격히 확산되었으며, 이에 따라 음식 배달, 안내, 서빙 등 다양한 분야에서 비대면 서비스를 위한 기술이 빠르게 발전해왔습니다. 통계청에 따르면 국내 음식 서비스(배달 음식) 온라인 거래액은 2019년 9조 7천억 원에서 2021년 26조 2천억 원으로 증가하였습니다.
하지만 현실적으로는 여전히 사람이 직접 수행해야 하는 업무 영역이 존재합니다. 특히 건물 내부의 음식 배달이나 안내 업무는 복잡한 공간 구조, GPS 수신 불가, 사람 인식 문제 등으로 인해 완전한 자동화가 어려운 상황입니다.
이에 착안하여 자율주행 자동차 기술이 상용화되고 있다는 점에 주목하였습니다. 이 기술을 실생활에 접목한다면 사람들의 일상에 큰 편리함을 제공할 수 있을 것이라는 생각에서 프로젝트를 시작하게 되었습니다.

## 시스템 동작 흐름도

![시스템 동작 흐름도](https://github.com/tae2on/AIDriveBot/blob/main/image/%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%8F%99%EC%9E%91%20%ED%9D%90%EB%A6%84%EB%8F%84.png?raw=true)


## 주요 기능  
- 음성 명령 인식
  - 사용자의 음성 명령을 인식하여 목표 이름과 위치 정보를 입력
  - 목적지와 대상 인물 이름을 함께 지정 가능하여 직관적인 조작 가능
- 실내 자율 경로 생성
  - LiDAR 센서를 활용하여 건물 내부의 지도를 생성
  - 경로 계획 알고리즘을 통해 현재 위치에서 목적지까지 최적 경로를 자동 탐색
- 장애물 회피 주행
  - 포텐셜 필드 알고리즘 기반으로 실시간으로 사람, 사물 등의 장애물을 인식하고 회피하며 안전하게 이동
  - 모터 PID 제어와 Dead Reckoning을 활용하여 정밀하고 부드러운 주행 가능
- 도착지 확인 및 대상 인식
  - 목적지 도달 후, 카메라를 통해 대상 인물을 식별
  - 사람의 얼굴이나 사물을 인식하여 목표한 인물인지 여부를 판단
- 배달 알림 음성 출력
  - 대상 인물 확인 후, 음성 출력 장치를 통해 배달 도착 알림을 전달
  - 비대면 응대가 가능하여 효율적이고 위생적인 전달 방식 구현이 가능
- 통신 시스템
  - 모든 데이터는 TCP/IP 기반 통신을 통해 실시간 전송
  - 각 기능 모듈 간 ROS 토픽 연동 및 메시지 송수신을 통해 통합 제어

## 모터 제어 시스템 
### PID 제어 (Proportional-Integral-Derivative Control)
PID 제어 알고리즘 적용: 로봇의 주행 속도 및 방향을 안정적으로 유지하기 위해 사용됩니다. 목표값과 실제값 사이의 오차를 계산하여 이를 최소화합니다. 
- P (Proportional): 목표값과 현재값의 오차에 비례하여 반응 
- I (Integral): 오차의 누적값을 계산하여 오차가 장기적으로 남지 않도록 보정
- D (Derivative): 오차 변화율을 고려하여 빠른 반응 및 과도한 출력을 방지

  <br> → 이때 Kp, Ki, Kd는 각각의 항목에 대한 가중치(게인)로, 시스템에 맞춰 실험적으로 조정
```
제어 공식
output = Kp * error  + Ki * ∫error dt + Kd * (d(error)/dt)
```

### Dead Reckoning 기법
1. 양쪽 바퀴의 엔코더 값(펄스 수)를 실시간 측정
2. 이를 바탕으로 각 바퀴의 각속도를 계산
3. 각속도 차이를 통해 로봇의 회전각도(θ)와 이동 거리를 계산
4. 시간 흐름에 따라 누적 계산을 수행하여, 로봇의 현재 위치(x, y)와 방향(θ)을 실시간으로 추정
   
## 팀원소개

| [양희웅](https://github.com/happybear98) (팀장) | [강명현](https://github.com/rkdaudgus94) | [이혜선](https://github.com/ssun0402) | [황태언](https://github.com/tae2on) |
| :---: | :---: | :---: | :---: |
| [<img src="https://github.com/happybear98.png" width="100px">](https://github.com/happybear98) | [<img src="https://github.com/rkdaudgus94.png" width="100px">](https://github.com/rkdaudgus94) | [<img src="https://github.com/ssun0402.png" width="100px">](https://github.com/ssun0402) | [<img src="https://github.com/tae2on.png" width="100px">](https://github.com/tae2on) |
| <div align="left">• LiDAR 기반 실내 지도 작성 및 SLAM<br>• 경로 계획 및 장애물 회피 알고리즘 설계</div> | <div align="left">• 얼굴 및 대상 인식을 위한 컴퓨터 비전 모델 개발<br>• 영상 처리 및 인식 정확도 개선</div> | <div align="left">• 음성 명령 인식(STT) 및 출력(TTS) 기능 구현<br>• 사용자 인터페이스 및 시나리오 설계</div> | <div align="left">• 모터 PID 제어 및 속도 안정화<br>• Dead Reckoning 기반 위치 추정 로직 구현</div> |
